<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DA1metaMetaData Editor - Complete Metadata Management</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
        }
        
        .main-container {
            display: flex;
            width: 100%;
            min-height: 100vh;
        }
        
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .right-sidebar {
            width: 350px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-left: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .form-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .da1-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 500;
            margin: 0 5px;
        }
        
        .form-content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            background: #fafafa;
            overflow: hidden;
        }
        
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            font-size: 1.3em;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-content {
            padding: 20px;
        }
        
        .field-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .field {
            display: flex;
            flex-direction: column;
        }
        
        .field label {
            font-weight: 500;
            margin-bottom: 5px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .field input, .field textarea, .field select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .field input:focus, .field textarea:focus, .field select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
        }
        
        .field textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .field-description {
            font-size: 0.85em;
            color: #666;
            margin-top: 3px;
        }
        
        .sidebar-section {
            background: white;
            border-radius: 10px;
            margin-bottom: 20px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .sidebar-header {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .file-select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .status-message {
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: none;
        }
        
        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .command-output {
            background: #1e1e1e;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .collapsible-content.active {
            max-height: 2000px;
        }
        
        .toggle-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-left: auto;
            font-size: 1.2em;
        }
        
        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
            }
            
            .right-sidebar {
                width: 100%;
                border-left: none;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Main Content -->
        <div class="main-content">
            <div class="form-container">
                <div class="header">
                    <h1>🎵 DA1metaMetaData Editor</h1>
                    <p>Complete metadata management for <span class="da1-badge">DA1neverBlank</span> philosophy</p>
                </div>
                
                <div class="form-content">
                    <form id="metadata-form">
                        
                        <!-- Core Track Identification -->
                        <div class="section">
                            <div class="section-header">
                                🎵 Core Track Identification
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="title">Track Title</label>
                                        <input type="text" id="title" name="title" value="Migla migla (Akustiskā dzīvajā versijā. 3x3 Brīvais Mikrofons. Koknesē, Latvijā)">
                                        <div class="field-description">Main title of the track</div>
                                    </div>
                                    <div class="field">
                                        <label for="subtitle">Subtitle</label>
                                        <input type="text" id="subtitle" name="subtitle" placeholder="Track subtitle or alternate title - 128 chars available">
                                        <div class="field-description">Additional title information</div>
                                    </div>
                                    <div class="field">
                                        <label for="album">Album/Project</label>
                                        <input type="text" id="album" name="album" value="Sadziedāšana ar Daini (Dzīvajā)">
                                        <div class="field-description">Album or project name</div>
                                    </div>
                                    <div class="field">
                                        <label for="artist">Artist</label>
                                        <input type="text" id="artist" name="artist" value="Dainis W. Michel, Dainis V. Michelis, Da1ni5, Emīlija Michele, Olīvija un Hugo">
                                        <div class="field-description">Primary artist(s)</div>
                                    </div>
                                    <div class="field">
                                        <label for="album_artist">Album Artist</label>
                                        <input type="text" id="album_artist" name="album_artist" value="Dainis W. Michel & OEH">
                                        <div class="field-description">Album-level artist credit</div>
                                    </div>
                                    <div class="field">
                                        <label for="track">Track Number</label>
                                        <input type="text" id="track" name="track" value="00">
                                        <div class="field-description">Track position in album</div>
                                    </div>
                                    <div class="field">
                                        <label for="disc">Disc Number</label>
                                        <input type="text" id="disc" name="disc" value="1">
                                        <div class="field-description">Disc number for multi-disc releases</div>
                                    </div>
                                    <div class="field">
                                        <label for="year">Year</label>
                                        <input type="text" id="year" name="year" value="2024">
                                        <div class="field-description">Release year</div>
                                    </div>
                                    <div class="field">
                                        <label for="date">Date</label>
                                        <input type="date" id="date" name="date" value="2024-07-03">
                                        <div class="field-description">Specific release date</div>
                                    </div>
                                    <div class="field">
                                        <label for="grouping">Grouping</label>
                                        <input type="text" id="grouping" name="grouping" value="Latvian Folk Collection">
                                        <div class="field-description">Content grouping or collection</div>
                                    </div>
                                    <div class="field">
                                        <label for="version">Version</label>
                                        <input type="text" id="version" name="version" value="1.0">
                                        <div class="field-description">Version number</div>
                                    </div>
                                    <div class="field">
                                        <label for="content_group_description">Content Group Description</label>
                                        <input type="text" id="content_group_description" name="content_group_description" value="Traditional Latvian Folk Songs - Live Performance Series">
                                        <div class="field-description">Description of the content group</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Creators & Contributors -->
                        <div class="section">
                            <div class="section-header">
                                🎼 Creators & Contributors
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="composer">Composer</label>
                                        <input type="text" id="composer" name="composer" value="Dainis W. Michel">
                                        <div class="field-description">Music composer</div>
                                    </div>
                                    <div class="field">
                                        <label for="lyricist">Lyricist</label>
                                        <input type="text" id="lyricist" name="lyricist" value="Dainis W. Michel">
                                        <div class="field-description">Lyrics writer</div>
                                    </div>
                                    <div class="field">
                                        <label for="songwriter">Songwriter</label>
                                        <input type="text" id="songwriter" name="songwriter" value="Dainis W. Michel">
                                        <div class="field-description">Overall songwriter</div>
                                    </div>
                                    <div class="field">
                                        <label for="arranger">Arranger</label>
                                        <input type="text" id="arranger" name="arranger" value="Dainis W. Michel">
                                        <div class="field-description">Musical arranger</div>
                                    </div>
                                    <div class="field">
                                        <label for="conductor">Conductor</label>
                                        <input type="text" id="conductor" name="conductor" value="Dainis W. Michel">
                                        <div class="field-description">Orchestra/ensemble conductor</div>
                                    </div>
                                    <div class="field">
                                        <label for="producer">Producer</label>
                                        <input type="text" id="producer" name="producer" value="Dainis W. Michel">
                                        <div class="field-description">Track producer</div>
                                    </div>
                                    <div class="field">
                                        <label for="performer">Performer</label>
                                        <textarea id="performer" name="performer">Dainis W. Michel on piano, Emīlija Michele on vocals, Olīvija and Hugo on guitar</textarea>
                                        <div class="field-description">Detailed performer credits</div>
                                    </div>
                                    <div class="field">
                                        <label for="engineer">Engineer</label>
                                        <input type="text" id="engineer" name="engineer" placeholder="Recording engineer name - 64 chars available">
                                        <div class="field-description">Recording engineer</div>
                                    </div>
                                    <div class="field">
                                        <label for="mixing_engineer">Mixing Engineer</label>
                                        <input type="text" id="mixing_engineer" name="mixing_engineer" value="Dainis Kažoks">
                                        <div class="field-description">Audio mixing engineer</div>
                                    </div>
                                    <div class="field">
                                        <label for="mastering_engineer">Mastering Engineer</label>
                                        <input type="text" id="mastering_engineer" name="mastering_engineer" value="Dainis W. Michel">
                                        <div class="field-description">Audio mastering engineer</div>
                                    </div>
                                    <div class="field">
                                        <label for="recording_engineer">Recording Engineer</label>
                                        <input type="text" id="recording_engineer" name="recording_engineer" value="Dainis Kažoks">
                                        <div class="field-description">Recording engineer</div>
                                    </div>
                                    <div class="field">
                                        <label for="technician">Technician</label>
                                        <input type="text" id="technician" name="technician" placeholder="Technical support staff - 64 chars available">
                                        <div class="field-description">Technical support staff</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Technical Properties -->
                        <div class="section">
                            <div class="section-header">
                                🔧 Technical Properties
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="bpm">BPM</label>
                                        <input type="number" id="bpm" name="bpm" value="60">
                                        <div class="field-description">Beats per minute</div>
                                    </div>
                                    <div class="field">
                                        <label for="tempo">Tempo</label>
                                        <input type="text" id="tempo" name="tempo" value="Slow, Gentle">
                                        <div class="field-description">Tempo description</div>
                                    </div>
                                    <div class="field">
                                        <label for="key">Key</label>
                                        <input type="text" id="key" name="key" value="Bb Major">
                                        <div class="field-description">Musical key</div>
                                    </div>
                                    <div class="field">
                                        <label for="time_signature">Time Signature</label>
                                        <input type="text" id="time_signature" name="time_signature" value="4/2">
                                        <div class="field-description">Time signature</div>
                                    </div>
                                    <div class="field">
                                        <label for="sample_rate">Sample Rate</label>
                                        <input type="text" id="sample_rate" name="sample_rate" value="48000">
                                        <div class="field-description">Sample rate in Hz</div>
                                    </div>
                                    <div class="field">
                                        <label for="bit_depth">Bit Depth</label>
                                        <input type="text" id="bit_depth" name="bit_depth" value="24">
                                        <div class="field-description">Bit depth</div>
                                    </div>
                                    <div class="field">
                                        <label for="channels">Channels</label>
                                        <input type="text" id="channels" name="channels" value="2">
                                        <div class="field-description">Number of audio channels</div>
                                    </div>
                                    <div class="field">
                                        <label for="duration">Duration</label>
                                        <input type="text" id="duration" name="duration" value="4:01">
                                        <div class="field-description">Track duration</div>
                                    </div>
                                    <div class="field">
                                        <label for="encoding_settings">Encoding Settings</label>
                                        <input type="text" id="encoding_settings" name="encoding_settings" value="24-bit/48kHz WAV">
                                        <div class="field-description">Audio encoding settings</div>
                                    </div>
                                    <div class="field">
                                        <label for="encoded_by">Encoded By</label>
                                        <input type="text" id="encoded_by" name="encoded_by" value="FFmpeg">
                                        <div class="field-description">Encoding software</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lyrics & Text Content -->
                        <div class="section">
                            <div class="section-header">
                                📝 Lyrics & Text Content
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="lyrics">Lyrics</label>
                                        <textarea id="lyrics" name="lyrics" rows="8">Migla, migla, liela rasa,
Man pazuda kumeliņis.

Nokrīt migla, nokrīt rasa,
Es dabūju kumeliņu.

Tumša nakte, zaļa zāle,
Laukā laidu kumeliņu.

Dievs sargāja kumeliņu,
Es pats savu līgaviņu.</textarea>
                                        <div class="field-description">Full lyrics text</div>
                                    </div>
                                    <div class="field">
                                        <label for="lyrics_language">Lyrics Language</label>
                                        <input type="text" id="lyrics_language" name="lyrics_language" value="Latvian">
                                        <div class="field-description">Primary language of lyrics</div>
                                    </div>
                                    <div class="field">
                                        <label for="english_translation">English Translation</label>
                                        <textarea id="english_translation" name="english_translation" rows="8">Mist, mist, heavy dew,
I lost my steed.

The mist falls, the dew falls,
I found my steed.

Dark night, green grass,
I let my steed out to pasture.

God protected my steed,
As I protected my bride.</textarea>
                                        <div class="field-description">English translation of lyrics</div>
                                    </div>
                                    <div class="field">
                                        <label for="translation_author">Translation Author</label>
                                        <input type="text" id="translation_author" name="translation_author" value="Dainis W. Michel">
                                        <div class="field-description">Who translated the lyrics</div>
                                    </div>
                                    <div class="field">
                                        <label for="comment">Comment</label>
                                        <textarea id="comment" name="comment">Traditional Latvian folk song arrangement, live performance</textarea>
                                        <div class="field-description">General comments about the track</div>
                                    </div>
                                    <div class="field">
                                        <label for="description">Description</label>
                                        <textarea id="description" name="description">Intimate acoustic performance with natural room ambience</textarea>
                                        <div class="field-description">Detailed description of the recording</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Rights & Licensing -->
                        <div class="section">
                            <div class="section-header">
                                📜 Rights & Licensing
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="copyright">Copyright</label>
                                        <input type="text" id="copyright" name="copyright" value="© 2024 Dainis W. Michel. All Rights Reserved.">
                                        <div class="field-description">Copyright notice</div>
                                    </div>
                                    <div class="field">
                                        <label for="copyright_holder">Copyright Holder</label>
                                        <input type="text" id="copyright_holder" name="copyright_holder" value="Dainis W. Michel">
                                        <div class="field-description">Entity holding copyright</div>
                                    </div>
                                    <div class="field">
                                        <label for="publisher">Publisher</label>
                                        <input type="text" id="publisher" name="publisher" value="Dainis W. Michel (Self-Published)">
                                        <div class="field-description">Music publisher</div>
                                    </div>
                                    <div class="field">
                                        <label for="isrc">ISRC</label>
                                        <input type="text" id="isrc" name="isrc" value="US-XXX-21-00001">
                                        <div class="field-description">International Standard Recording Code</div>
                                    </div>
                                    <div class="field">
                                        <label for="iswc">ISWC</label>
                                        <input type="text" id="iswc" name="iswc" value="T-123456789-0">
                                        <div class="field-description">International Standard Musical Work Code</div>
                                    </div>
                                    <div class="field">
                                        <label for="upc">UPC</label>
                                        <input type="text" id="upc" name="upc" value="123456789012">
                                        <div class="field-description">Universal Product Code</div>
                                    </div>
                                    <div class="field">
                                        <label for="catalog_number">Catalog Number</label>
                                        <input type="text" id="catalog_number" name="catalog_number" value="DWM-2024-001">
                                        <div class="field-description">Release catalog number</div>
                                    </div>
                                    <div class="field">
                                        <label for="label">Record Label</label>
                                        <input type="text" id="label" name="label" placeholder="Record label name - 64 chars available">
                                        <div class="field-description">Record label</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Genre & Categorization -->
                        <div class="section">
                            <div class="section-header">
                                🎯 Genre & Categorization
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="genre">Genre</label>
                                        <input type="text" id="genre" name="genre" value="Latviešu folkloristiskā jaunrade, tautas dziesmas, tautas mūzika, Folk, Acoustic, Ethno, Live Performance">
                                        <div class="field-description">Musical genres</div>
                                    </div>
                                    <div class="field">
                                        <label for="style">Style</label>
                                        <input type="text" id="style" name="style" value="Latvian Folk, Acoustic">
                                        <div class="field-description">Musical style</div>
                                    </div>
                                    <div class="field">
                                        <label for="mood">Mood</label>
                                        <input type="text" id="mood" name="mood" value="Peaceful, Nostalgic, Folkloric, Happy Family, Traditional, Contemplative">
                                        <div class="field-description">Emotional mood</div>
                                    </div>
                                    <div class="field">
                                        <label for="theme">Theme</label>
                                        <input type="text" id="theme" name="theme" value="Nature, Love, Folk Traditions">
                                        <div class="field-description">Thematic content</div>
                                    </div>
                                    <div class="field">
                                        <label for="keywords">Keywords</label>
                                        <input type="text" id="keywords" name="keywords" value="Latvian, Folk Song, Traditional, Live Recording, Acoustic">
                                        <div class="field-description">Search keywords</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- W3C & Blockchain Integration -->
                        <div class="section">
                            <div class="section-header">
                                🔗 W3C & Blockchain Integration
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="da1_uuid">DA1 UUID</label>
                                        <input type="text" id="da1_uuid" name="da1_uuid" placeholder="DA1 unique identifier - 36 chars">
                                        <div class="field-description">Unique DA1 identifier</div>
                                    </div>
                                    <div class="field">
                                        <label for="content_hash">Content Hash (SHA-256)</label>
                                        <input type="text" id="content_hash" name="content_hash" placeholder="SHA-256 hash of audio content">
                                        <div class="field-description">Cryptographic hash of audio content</div>
                                    </div>
                                    <div class="field">
                                        <label for="metadata_hash">Metadata Hash</label>
                                        <input type="text" id="metadata_hash" name="metadata_hash" placeholder="SHA-256 hash of metadata">
                                        <div class="field-description">Hash of this metadata set</div>
                                    </div>
                                    <div class="field">
                                        <label for="blockchain_hash">Blockchain Transaction Hash</label>
                                        <input type="text" id="blockchain_hash" name="blockchain_hash" placeholder="Blockchain transaction hash - 64 chars">
                                        <div class="field-description">Blockchain verification transaction</div>
                                    </div>
                                    <div class="field">
                                        <label for="smart_contract_address">Smart Contract Address</label>
                                        <input type="text" id="smart_contract_address" name="smart_contract_address" placeholder="0x... smart contract address - 42 chars">
                                        <div class="field-description">Ethereum smart contract address</div>
                                    </div>
                                    <div class="field">
                                        <label for="ipfs_hash">IPFS Hash</label>
                                        <input type="text" id="ipfs_hash" name="ipfs_hash" placeholder="QmXxxx... IPFS content hash">
                                        <div class="field-description">IPFS distributed storage hash</div>
                                    </div>
                                    <div class="field">
                                        <label for="web3_wallet_address">Web3 Wallet Address</label>
                                        <input type="text" id="web3_wallet_address" name="web3_wallet_address" placeholder="0x... creator wallet address">
                                        <div class="field-description">Creator's Web3 wallet address</div>
                                    </div>
                                    <div class="field">
                                        <label for="nft_token_id">NFT Token ID</label>
                                        <input type="text" id="nft_token_id" name="nft_token_id" placeholder="NFT token identifier">
                                        <div class="field-description">Associated NFT token ID</div>
                                    </div>
                                    <div class="field">
                                        <label for="w3c_verification">W3C Verification Hash</label>
                                        <input type="text" id="w3c_verification" name="w3c_verification" placeholder="W3C verification status hash">
                                        <div class="field-description">W3C standards verification hash</div>
                                    </div>
                                    <div class="field">
                                        <label for="decentralized_id">Decentralized ID (DID)</label>
                                        <input type="text" id="decentralized_id" name="decentralized_id" placeholder="did:example:123456789abcdefghi">
                                        <div class="field-description">W3C Decentralized Identifier</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- DA1 System Fields -->
                        <div class="section">
                            <div class="section-header">
                                🔬 DA1 System Fields
                                <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                            </div>
                            <div class="section-content">
                                <div class="field-group">
                                    <div class="field">
                                        <label for="da1_version">DA1 Version</label>
                                        <input type="text" id="da1_version" name="da1_version" value="2.0.0">
                                        <div class="field-description">DA1 system version</div>
                                    </div>
                                    <div class="field">
                                        <label for="da1_attribution_level">Attribution Level</label>
                                        <select id="da1_attribution_level" name="da1_attribution_level">
                                            <option value="Level 1 - Basic">Level 1 - Basic</option>
                                            <option value="Level 2 - Standard">Level 2 - Standard</option>
                                            <option value="Level 3 - Enhanced">Level 3 - Enhanced</option>
                                            <option value="Level 4 - Comprehensive">Level 4 - Comprehensive</option>
                                            <option value="Level 5 - Complete Attribution" selected>Level 5 - Complete Attribution</option>
                                        </select>
                                        <div class="field-description">Level of attribution completeness</div>
                                    </div>
                                    <div class="field">
                                        <label for="creation_tool">Creation Tool</label>
                                        <input type="text" id="creation_tool" name="creation_tool" value="DA1metaMetaData Editor v2.0.0">
                                        <div class="field-description">Tool used to create this metadata</div>
                                    </div>
                                    <div class="field">
                                        <label for="validation_status">Validation Status</label>
                                        <select id="validation_status" name="validation_status">
                                            <option value="Draft">Draft</option>
                                            <option value="Validated" selected>Validated</option>
                                            <option value="Certified">Certified</option>
                                        </select>
                                        <div class="field-description">Metadata validation status</div>
                                    </div>
                                    <div class="field">
                                        <label for="last_modified">Last Modified</label>
                                        <input type="datetime-local" id="last_modified" name="last_modified">
                                        <div class="field-description">Last modification timestamp</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                    
                    <!-- FFmpeg Command Output Section -->
                    <div class="section">
                        <div class="section-header">
                            🔧 Generated FFmpeg Command
                            <button type="button" class="toggle-btn" onclick="toggleSection(this)">−</button>
                        </div>
                        <div class="section-content">
                            <div id="mainCommandOutput" class="command-output" style="display: none;">
                                <!-- FFmpeg command will appear here -->
                            </div>
                            <p id="commandPlaceholder" style="color: #666; text-align: center; padding: 20px;">
                                Click "Generate FFmpeg Command" in the sidebar to create your embedding command.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="right-sidebar">
            <!-- File Operations -->
            <div class="sidebar-section">
                <div class="sidebar-header">
                    💾 DA1XML Operations
                </div>
                <button class="btn" onclick="exportDA1XML()">Export DA1XML</button>
                <input type="file" id="importFile" accept=".da1xml" style="display: none;" onchange="importDA1XML(this)">
                <button class="btn btn-secondary" onclick="document.getElementById('importFile').click()">Import DA1XML</button>
                
                <div id="fileStatus" class="status-message"></div>
            </div>

            <!-- Template Management -->
            <div class="sidebar-section">
                <div class="sidebar-header">
                    📋 Template Management
                </div>
                <input type="text" id="templateName" placeholder="Template name" class="file-select">
                <button class="btn" onclick="saveTemplate()">Save as Template</button>
                
                <select id="templateSelect" class="file-select">
                    <option value="">Select saved template...</option>
                </select>
                <button class="btn btn-secondary" onclick="loadTemplate()">Load Template</button>
                <button class="btn btn-secondary" onclick="deleteTemplate()">Delete Template</button>
            </div>

            <!-- Command Generation -->
            <div class="sidebar-section">
                <div class="sidebar-header">
                    ⚡ FFmpeg Command
                </div>
                <button class="btn" onclick="generateCommand()">Generate FFmpeg Command</button>
                
                <input type="text" id="commandName" placeholder="Command name" class="file-select">
                <button class="btn" onclick="saveCommand()">Save Command</button>
                
                <select id="commandSelect" class="file-select">
                    <option value="">Select saved command...</option>
                </select>
                <button class="btn btn-secondary" onclick="loadCommand()">Load Command</button>
                <button class="btn btn-secondary" onclick="deleteCommand()">Delete Command</button>
                
                <div id="commandOutput" class="command-output" style="display: none;"></div>
            </div>

            <!-- Future Chatbot Integration -->
            <div class="sidebar-section">
                <div class="sidebar-header">
                    🤖 AI Assistant (Coming Soon)
                </div>
                <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                    Voiceflow chatbot integration will guide users through DA1metaMetaData creation process.
                </p>
                <button class="btn" disabled style="opacity: 0.5;">Start AI Guided Setup</button>
            </div>
        </div>
    </div>

    <script>
        // Set current timestamp for last_modified
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const timestamp = now.toISOString().slice(0, 16);
            document.getElementById('last_modified').value = timestamp;
            
            loadSavedTemplates();
            loadSavedCommands();
        });

        // Toggle section collapse/expand
        function toggleSection(button) {
            const content = button.parentElement.nextElementSibling;
            const isCollapsed = button.textContent === '+';
            
            if (isCollapsed) {
                content.style.display = 'block';
                button.textContent = '−';
            } else {
                content.style.display = 'none';
                button.textContent = '+';
            }
        }

        // Auto-save form data to localStorage\n        function setupAutoSave() {\n            const form = document.getElementById('metadata-form');\n            const inputs = form.querySelectorAll('input, textarea, select');\n            \n            inputs.forEach(input => {\n                input.addEventListener('input', saveFormData);\n                input.addEventListener('change', saveFormData);\n            });\n        }\n        \n        function saveFormData() {\n            const data = getFormData();\n            localStorage.setItem('da1_form_data', JSON.stringify(data));\n            showAutoSaveIndicator();\n        }\n        \n        function loadFormData() {\n            const savedData = localStorage.getItem('da1_form_data');\n            if (savedData) {\n                try {\n                    const data = JSON.parse(savedData);\n                    setFormData(data);\n                } catch (e) {\n                    console.error('Error loading form data:', e);\n                }\n            }\n        }\n        \n        function showAutoSaveIndicator() {\n            // Create or update auto-save indicator\n            let indicator = document.getElementById('autoSaveIndicator');\n            if (!indicator) {\n                indicator = document.createElement('div');\n                indicator.id = 'autoSaveIndicator';\n                indicator.style.cssText = `\n                    position: fixed; top: 20px; right: 20px; \n                    background: #28a745; color: white; \n                    padding: 8px 16px; border-radius: 20px; \n                    font-size: 12px; z-index: 1000;\n                    opacity: 0; transition: opacity 0.3s ease;\n                `;\n                indicator.textContent = '✓ Auto-saved';\n                document.body.appendChild(indicator);\n            }\n            \n            // Show indicator briefly\n            indicator.style.opacity = '1';\n            setTimeout(() => {\n                indicator.style.opacity = '0';\n            }, 2000);\n        }\n\n        // Get form data as object
        function getFormData() {
            const form = document.getElementById('metadata-form');
            const formData = new FormData(form);
            const data = {};
            
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            return data;
        }

        // Set form data from object
        function setFormData(data) {
            for (const [key, value] of Object.entries(data)) {
                const element = document.getElementById(key);
                if (element) {
                    element.value = value;
                }
            }
        }

        // Generate DA1XML from form data
        function generateDA1XML(data) {
            const xml = `<?xml version="1.0" encoding="UTF-8"?>
<da1:metadata xmlns:da1="https://da1.fm/schema" version="${data.da1_version || '2.0.0'}">
    <da1:core>
        <da1:title>${escapeXml(data.title || '')}</da1:title>
        <da1:subtitle>${escapeXml(data.subtitle || '')}</da1:subtitle>
        <da1:album>${escapeXml(data.album || '')}</da1:album>
        <da1:artist>${escapeXml(data.artist || '')}</da1:artist>
        <da1:album_artist>${escapeXml(data.album_artist || '')}</da1:album_artist>
        <da1:track>${escapeXml(data.track || '')}</da1:track>
        <da1:disc>${escapeXml(data.disc || '')}</da1:disc>
        <da1:year>${escapeXml(data.year || '')}</da1:year>
        <da1:date>${escapeXml(data.date || '')}</da1:date>
        <da1:grouping>${escapeXml(data.grouping || '')}</da1:grouping>
        <da1:version>${escapeXml(data.version || '')}</da1:version>
        <da1:content_group_description>${escapeXml(data.content_group_description || '')}</da1:content_group_description>
    </da1:core>
    
    <da1:creators>
        <da1:composer>${escapeXml(data.composer || '')}</da1:composer>
        <da1:lyricist>${escapeXml(data.lyricist || '')}</da1:lyricist>
        <da1:songwriter>${escapeXml(data.songwriter || '')}</da1:songwriter>
        <da1:arranger>${escapeXml(data.arranger || '')}</da1:arranger>
        <da1:conductor>${escapeXml(data.conductor || '')}</da1:conductor>
        <da1:producer>${escapeXml(data.producer || '')}</da1:producer>
        <da1:performer>${escapeXml(data.performer || '')}</da1:performer>
        <da1:engineer>${escapeXml(data.engineer || '')}</da1:engineer>
        <da1:mixing_engineer>${escapeXml(data.mixing_engineer || '')}</da1:mixing_engineer>
        <da1:mastering_engineer>${escapeXml(data.mastering_engineer || '')}</da1:mastering_engineer>
        <da1:recording_engineer>${escapeXml(data.recording_engineer || '')}</da1:recording_engineer>
        <da1:technician>${escapeXml(data.technician || '')}</da1:technician>
    </da1:creators>
    
    <da1:technical>
        <da1:bpm>${escapeXml(data.bpm || '')}</da1:bpm>
        <da1:tempo>${escapeXml(data.tempo || '')}</da1:tempo>
        <da1:key>${escapeXml(data.key || '')}</da1:key>
        <da1:time_signature>${escapeXml(data.time_signature || '')}</da1:time_signature>
        <da1:sample_rate>${escapeXml(data.sample_rate || '')}</da1:sample_rate>
        <da1:bit_depth>${escapeXml(data.bit_depth || '')}</da1:bit_depth>
        <da1:channels>${escapeXml(data.channels || '')}</da1:channels>
        <da1:duration>${escapeXml(data.duration || '')}</da1:duration>
        <da1:encoding_settings>${escapeXml(data.encoding_settings || '')}</da1:encoding_settings>
        <da1:encoded_by>${escapeXml(data.encoded_by || '')}</da1:encoded_by>
    </da1:technical>
    
    <da1:content>
        <da1:lyrics>${escapeXml(data.lyrics || '')}</da1:lyrics>
        <da1:lyrics_language>${escapeXml(data.lyrics_language || '')}</da1:lyrics_language>
        <da1:english_translation>${escapeXml(data.english_translation || '')}</da1:english_translation>
        <da1:translation_author>${escapeXml(data.translation_author || '')}</da1:translation_author>
        <da1:comment>${escapeXml(data.comment || '')}</da1:comment>
        <da1:description>${escapeXml(data.description || '')}</da1:description>
    </da1:content>
    
    <da1:rights>
        <da1:copyright>${escapeXml(data.copyright || '')}</da1:copyright>
        <da1:copyright_holder>${escapeXml(data.copyright_holder || '')}</da1:copyright_holder>
        <da1:publisher>${escapeXml(data.publisher || '')}</da1:publisher>
        <da1:isrc>${escapeXml(data.isrc || '')}</da1:isrc>
        <da1:iswc>${escapeXml(data.iswc || '')}</da1:iswc>
        <da1:upc>${escapeXml(data.upc || '')}</da1:upc>
        <da1:catalog_number>${escapeXml(data.catalog_number || '')}</da1:catalog_number>
        <da1:label>${escapeXml(data.label || '')}</da1:label>
    </da1:rights>
    
    <da1:categorization>
        <da1:genre>${escapeXml(data.genre || '')}</da1:genre>
        <da1:style>${escapeXml(data.style || '')}</da1:style>
        <da1:mood>${escapeXml(data.mood || '')}</da1:mood>
        <da1:theme>${escapeXml(data.theme || '')}</da1:theme>
        <da1:keywords>${escapeXml(data.keywords || '')}</da1:keywords>
    </da1:categorization>
    
    <da1:blockchain>
        <da1:uuid>${escapeXml(data.da1_uuid || '')}</da1:uuid>
        <da1:content_hash>${escapeXml(data.content_hash || '')}</da1:content_hash>
        <da1:metadata_hash>${escapeXml(data.metadata_hash || '')}</da1:metadata_hash>
        <da1:blockchain_hash>${escapeXml(data.blockchain_hash || '')}</da1:blockchain_hash>
        <da1:smart_contract_address>${escapeXml(data.smart_contract_address || '')}</da1:smart_contract_address>
        <da1:ipfs_hash>${escapeXml(data.ipfs_hash || '')}</da1:ipfs_hash>
        <da1:web3_wallet_address>${escapeXml(data.web3_wallet_address || '')}</da1:web3_wallet_address>
        <da1:nft_token_id>${escapeXml(data.nft_token_id || '')}</da1:nft_token_id>
    </da1:blockchain>
    
    <da1:w3c>
        <da1:verification_hash>${escapeXml(data.w3c_verification || '')}</da1:verification_hash>
        <da1:decentralized_id>${escapeXml(data.decentralized_id || '')}</da1:decentralized_id>
        <da1:standards_compliance>HTML5, RDFa, Schema.org, Dublin Core</da1:standards_compliance>
    </da1:w3c>
    
    <da1:system>
        <da1:version>${escapeXml(data.da1_version || '2.0.0')}</da1:version>
        <da1:attribution_level>${escapeXml(data.da1_attribution_level || '')}</da1:attribution_level>
        <da1:creation_tool>${escapeXml(data.creation_tool || '')}</da1:creation_tool>
        <da1:validation_status>${escapeXml(data.validation_status || '')}</da1:validation_status>
        <da1:last_modified>${escapeXml(data.last_modified || '')}</da1:last_modified>
    </da1:system>
</da1:metadata>`;
            
            return xml;
        }

        // Parse DA1XML to form data
        function parseDA1XML(xmlString) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlString, 'text/xml');
            const data = {};
            
            // Helper function to get text content safely
            function getTextContent(path) {
                const element = xmlDoc.querySelector(path);
                return element ? element.textContent : '';
            }
            
            // Core fields
            data.title = getTextContent('da1\\:title, title');
            data.subtitle = getTextContent('da1\\:subtitle, subtitle');
            data.album = getTextContent('da1\\:album, album');
            data.artist = getTextContent('da1\\:artist, artist');
            data.album_artist = getTextContent('da1\\:album_artist, album_artist');
            data.track = getTextContent('da1\\:track, track');
            data.disc = getTextContent('da1\\:disc, disc');
            data.year = getTextContent('da1\\:year, year');
            data.date = getTextContent('da1\\:date, date');
            data.grouping = getTextContent('da1\\:grouping, grouping');
            data.version = getTextContent('da1\\:version, version');
            data.content_group_description = getTextContent('da1\\:content_group_description, content_group_description');
            
            // Creators
            data.composer = getTextContent('da1\\:composer, composer');
            data.lyricist = getTextContent('da1\\:lyricist, lyricist');
            data.songwriter = getTextContent('da1\\:songwriter, songwriter');
            data.arranger = getTextContent('da1\\:arranger, arranger');
            data.conductor = getTextContent('da1\\:conductor, conductor');
            data.producer = getTextContent('da1\\:producer, producer');
            data.performer = getTextContent('da1\\:performer, performer');
            data.engineer = getTextContent('da1\\:engineer, engineer');
            data.mixing_engineer = getTextContent('da1\\:mixing_engineer, mixing_engineer');
            data.mastering_engineer = getTextContent('da1\\:mastering_engineer, mastering_engineer');
            data.recording_engineer = getTextContent('da1\\:recording_engineer, recording_engineer');
            data.technician = getTextContent('da1\\:technician, technician');
            
            // Technical
            data.bpm = getTextContent('da1\\:bpm, bpm');
            data.tempo = getTextContent('da1\\:tempo, tempo');
            data.key = getTextContent('da1\\:key, key');
            data.time_signature = getTextContent('da1\\:time_signature, time_signature');
            data.sample_rate = getTextContent('da1\\:sample_rate, sample_rate');
            data.bit_depth = getTextContent('da1\\:bit_depth, bit_depth');
            data.channels = getTextContent('da1\\:channels, channels');
            data.duration = getTextContent('da1\\:duration, duration');
            data.encoding_settings = getTextContent('da1\\:encoding_settings, encoding_settings');
            data.encoded_by = getTextContent('da1\\:encoded_by, encoded_by');
            
            // Content
            data.lyrics = getTextContent('da1\\:lyrics, lyrics');
            data.lyrics_language = getTextContent('da1\\:lyrics_language, lyrics_language');
            data.english_translation = getTextContent('da1\\:english_translation, english_translation');
            data.translation_author = getTextContent('da1\\:translation_author, translation_author');
            data.comment = getTextContent('da1\\:comment, comment');
            data.description = getTextContent('da1\\:description, description');
            
            // Rights
            data.copyright = getTextContent('da1\\:copyright, copyright');
            data.copyright_holder = getTextContent('da1\\:copyright_holder, copyright_holder');
            data.publisher = getTextContent('da1\\:publisher, publisher');
            data.isrc = getTextContent('da1\\:isrc, isrc');
            data.iswc = getTextContent('da1\\:iswc, iswc');
            data.upc = getTextContent('da1\\:upc, upc');
            data.catalog_number = getTextContent('da1\\:catalog_number, catalog_number');
            data.label = getTextContent('da1\\:label, label');
            
            // Categorization
            data.genre = getTextContent('da1\\:genre, genre');
            data.style = getTextContent('da1\\:style, style');
            data.mood = getTextContent('da1\\:mood, mood');
            data.theme = getTextContent('da1\\:theme, theme');
            data.keywords = getTextContent('da1\\:keywords, keywords');
            
            // Blockchain
            data.da1_uuid = getTextContent('da1\\:uuid, uuid');
            data.content_hash = getTextContent('da1\\:content_hash, content_hash');
            data.metadata_hash = getTextContent('da1\\:metadata_hash, metadata_hash');
            data.blockchain_hash = getTextContent('da1\\:blockchain_hash, blockchain_hash');
            data.smart_contract_address = getTextContent('da1\\:smart_contract_address, smart_contract_address');
            data.ipfs_hash = getTextContent('da1\\:ipfs_hash, ipfs_hash');
            data.web3_wallet_address = getTextContent('da1\\:web3_wallet_address, web3_wallet_address');
            data.nft_token_id = getTextContent('da1\\:nft_token_id, nft_token_id');
            
            // W3C
            data.w3c_verification = getTextContent('da1\\:verification_hash, verification_hash');
            data.decentralized_id = getTextContent('da1\\:decentralized_id, decentralized_id');
            
            // System
            data.da1_version = getTextContent('da1\\:version, version');
            data.da1_attribution_level = getTextContent('da1\\:attribution_level, attribution_level');
            data.creation_tool = getTextContent('da1\\:creation_tool, creation_tool');
            data.validation_status = getTextContent('da1\\:validation_status, validation_status');
            data.last_modified = getTextContent('da1\\:last_modified, last_modified');
            
            return data;
        }

        // Escape XML special characters
        function escapeXml(text) {
            if (!text) return '';
            return text.replace(/[<>&'"]/g, function (c) {
                switch (c) {
                    case '<': return '&lt;';
                    case '>': return '&gt;';
                    case '&': return '&amp;';
                    case "'": return '&apos;';
                    case '"': return '&quot;';
                }
            });
        }

        // Export DA1XML
        function exportDA1XML() {
            const data = getFormData();
            const xml = generateDA1XML(data);
            
            const filename = `${data.title || 'untitled'}_metadata.da1xml`.replace(/[^a-z0-9]/gi, '_').toLowerCase();
            
            const blob = new Blob([xml], { type: 'application/xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            
            showStatus('DA1XML exported successfully!', 'success');
        }

        // Import DA1XML
        function importDA1XML(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = parseDA1XML(e.target.result);
                    setFormData(data);
                    showStatus('DA1XML imported successfully!', 'success');
                } catch (error) {
                    showStatus('Error importing DA1XML: ' + error.message, 'error');
                }
            };
            reader.readAsText(file);
        }

        // Template management
        function saveTemplate() {
            const name = document.getElementById('templateName').value.trim();
            if (!name) {
                showStatus('Please enter a template name', 'error');
                return;
            }
            
            const data = getFormData();
            const templates = JSON.parse(localStorage.getItem('da1_templates') || '{}');
            templates[name] = data;
            localStorage.setItem('da1_templates', JSON.stringify(templates));
            
            loadSavedTemplates();
            document.getElementById('templateName').value = '';
            showStatus(`Template "${name}" saved successfully!`, 'success');
        }

        function loadTemplate() {
            const name = document.getElementById('templateSelect').value;
            if (!name) return;
            
            const templates = JSON.parse(localStorage.getItem('da1_templates') || '{}');
            if (templates[name]) {
                setFormData(templates[name]);
                showStatus(`Template "${name}" loaded successfully!`, 'success');
            }
        }

        function deleteTemplate() {
            const name = document.getElementById('templateSelect').value;
            if (!name) return;
            
            if (confirm(`Delete template "${name}"?`)) {
                const templates = JSON.parse(localStorage.getItem('da1_templates') || '{}');
                delete templates[name];
                localStorage.setItem('da1_templates', JSON.stringify(templates));
                loadSavedTemplates();
                showStatus(`Template "${name}" deleted`, 'success');
            }
        }

        function loadSavedTemplates() {
            const templates = JSON.parse(localStorage.getItem('da1_templates') || '{}');
            const select = document.getElementById('templateSelect');
            select.innerHTML = '<option value="">Select saved template...</option>';
            
            for (const name in templates) {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                select.appendChild(option);
            }
        }

        // Command management
        function generateCommand() {
            const data = getFormData();
            const command = createFFmpegCommand(data);
            
            // Update main command output only (bottom section)
            const mainOutput = document.getElementById('mainCommandOutput');
            const placeholder = document.getElementById('commandPlaceholder');
            
            mainOutput.textContent = command;
            mainOutput.style.display = 'block';
            placeholder.style.display = 'none';
            
            // Auto-save the generated command\n            localStorage.setItem('da1_last_generated_command', command);\n            \n            showStatus('FFmpeg command generated!', 'success');
        }

        function saveCommand() {
            const name = document.getElementById('commandName').value.trim();
            if (!name) {
                showStatus('Please enter a command name', 'error');
                return;
            }
            
            // Check both sidebar and main command outputs
            const sidebarOutput = document.getElementById('commandOutput');
            const mainOutput = document.getElementById('mainCommandOutput');
            const commandText = sidebarOutput.textContent || mainOutput.textContent;\n            console.log('Command text found:', commandText ? 'Yes' : 'No', commandText?.substring(0, 50));
            if (!output.textContent) {
                showStatus('Generate a command first', 'error');
                return;
            }
            
            const commands = JSON.parse(localStorage.getItem('da1_commands') || '{}');
            commands[name] = output.textContent;
            localStorage.setItem('da1_commands', JSON.stringify(commands));
            
            loadSavedCommands();
            document.getElementById('commandName').value = '';
            showStatus(`Command "${name}" saved successfully!`, 'success');
        }

        function loadCommand() {\n            console.log('loadCommand called');\n            alert('Load command clicked!');
            const name = document.getElementById('commandSelect').value;
            if (!name) return;
            
            const commands = JSON.parse(localStorage.getItem('da1_commands') || '{}');
            if (commands[name]) {
                const sidebarOutput = document.getElementById('commandOutput');
                const mainOutput = document.getElementById('mainCommandOutput');
                const placeholder = document.getElementById('commandPlaceholder');
                
                sidebarOutput.textContent = commands[name];
                sidebarOutput.style.display = 'block';
                
                mainOutput.textContent = commands[name];
                mainOutput.style.display = 'block';
                placeholder.style.display = 'none';
                
                showStatus(`Command "${name}" loaded successfully!`, 'success');
            }
        }

        function deleteCommand() {
            const name = document.getElementById('commandSelect').value;
            if (!name) return;
            
            if (confirm(`Delete command "${name}"?`)) {
                const commands = JSON.parse(localStorage.getItem('da1_commands') || '{}');
                delete commands[name];
                localStorage.setItem('da1_commands', JSON.stringify(commands));
                loadSavedCommands();
                showStatus(`Command "${name}" deleted`, 'success');
            }
        }

        function loadSavedCommands() {
            const commands = JSON.parse(localStorage.getItem('da1_commands') || '{}');
            const select = document.getElementById('commandSelect');
            select.innerHTML = '<option value="">Select saved command...</option>';
            
            for (const name in commands) {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                select.appendChild(option);
            }
        }

        // Create FFmpeg command from data
        function createFFmpegCommand(data) {
            const inputFile = `"${data.title || 'input'}.mp3"`.replace(/[^a-zA-Z0-9\-_\.\"]/g, '_');
            const outputFile = `"${data.title || 'output'}_complete_metadata.mp3"`.replace(/[^a-zA-Z0-9\-_\.\"]/g, '_');
            
            let command = `ffmpeg -i ${inputFile} \\\n`;
            
            // Core metadata
            if (data.title) command += `-metadata title="${data.title}" \\\n`;
            if (data.subtitle) command += `-metadata subtitle="${data.subtitle}" \\\n`;
            if (data.album) command += `-metadata album="${data.album}" \\\n`;
            if (data.artist) command += `-metadata artist="${data.artist}" \\\n`;
            if (data.album_artist) command += `-metadata album_artist="${data.album_artist}" \\\n`;
            if (data.track) command += `-metadata track="${data.track}" \\\n`;
            if (data.disc) command += `-metadata disc="${data.disc}" \\\n`;
            if (data.year) command += `-metadata year="${data.year}" \\\n`;
            if (data.date) command += `-metadata date="${data.date}" \\\n`;
            if (data.grouping) command += `-metadata grouping="${data.grouping}" \\\n`;
            if (data.version) command += `-metadata version="${data.version}" \\\n`;
            if (data.content_group_description) command += `-metadata content_group_description="${data.content_group_description}" \\\n`;
            
            // Creators
            if (data.composer) command += `-metadata composer="${data.composer}" \\\n`;
            if (data.lyricist) command += `-metadata lyricist="${data.lyricist}" \\\n`;
            if (data.songwriter) command += `-metadata songwriter="${data.songwriter}" \\\n`;
            if (data.arranger) command += `-metadata arranger="${data.arranger}" \\\n`;
            if (data.conductor) command += `-metadata conductor="${data.conductor}" \\\n`;
            if (data.producer) command += `-metadata producer="${data.producer}" \\\n`;
            if (data.performer) command += `-metadata performer="${data.performer}" \\\n`;
            if (data.engineer) command += `-metadata engineer="${data.engineer}" \\\n`;
            if (data.mixing_engineer) command += `-metadata mixing_engineer="${data.mixing_engineer}" \\\n`;
            if (data.mastering_engineer) command += `-metadata mastering_engineer="${data.mastering_engineer}" \\\n`;
            if (data.recording_engineer) command += `-metadata recording_engineer="${data.recording_engineer}" \\\n`;
            if (data.technician) command += `-metadata technician="${data.technician}" \\\n`;
            
            // Technical
            if (data.bpm) command += `-metadata bpm="${data.bpm}" \\\n`;
            if (data.tempo) command += `-metadata tempo="${data.tempo}" \\\n`;
            if (data.key) command += `-metadata key="${data.key}" \\\n`;
            if (data.time_signature) command += `-metadata time_signature="${data.time_signature}" \\\n`;
            if (data.sample_rate) command += `-metadata sample_rate="${data.sample_rate}" \\\n`;
            if (data.bit_depth) command += `-metadata bit_depth="${data.bit_depth}" \\\n`;
            if (data.channels) command += `-metadata channels="${data.channels}" \\\n`;
            if (data.duration) command += `-metadata duration="${data.duration}" \\\n`;
            if (data.encoding_settings) command += `-metadata encoding_settings="${data.encoding_settings}" \\\n`;
            if (data.encoded_by) command += `-metadata encoded_by="${data.encoded_by}" \\\n`;
            
            // Content
            if (data.lyrics) command += `-metadata lyrics="${data.lyrics.replace(/"/g, '\\"')}" \\\n`;
            if (data.lyrics_language) command += `-metadata lyrics_language="${data.lyrics_language}" \\\n`;
            if (data.english_translation) command += `-metadata english_translation="${data.english_translation.replace(/"/g, '\\"')}" \\\n`;
            if (data.translation_author) command += `-metadata translation_author="${data.translation_author}" \\\n`;
            if (data.comment) command += `-metadata comment="${data.comment}" \\\n`;
            if (data.description) command += `-metadata description="${data.description}" \\\n`;
            
            // Rights
            if (data.copyright) command += `-metadata copyright="${data.copyright}" \\\n`;
            if (data.copyright_holder) command += `-metadata copyright_holder="${data.copyright_holder}" \\\n`;
            if (data.publisher) command += `-metadata publisher="${data.publisher}" \\\n`;
            if (data.isrc) command += `-metadata isrc="${data.isrc}" \\\n`;
            if (data.iswc) command += `-metadata iswc="${data.iswc}" \\\n`;
            if (data.upc) command += `-metadata upc="${data.upc}" \\\n`;
            if (data.catalog_number) command += `-metadata catalog_number="${data.catalog_number}" \\\n`;
            if (data.label) command += `-metadata label="${data.label}" \\\n`;
            
            // Categorization
            if (data.genre) command += `-metadata genre="${data.genre}" \\\n`;
            if (data.style) command += `-metadata style="${data.style}" \\\n`;
            if (data.mood) command += `-metadata mood="${data.mood}" \\\n`;
            if (data.theme) command += `-metadata theme="${data.theme}" \\\n`;
            if (data.keywords) command += `-metadata keywords="${data.keywords}" \\\n`;
            
            // Blockchain & W3C
            if (data.da1_uuid) command += `-metadata da1_uuid="${data.da1_uuid}" \\\n`;
            if (data.content_hash) command += `-metadata content_hash="${data.content_hash}" \\\n`;
            if (data.metadata_hash) command += `-metadata metadata_hash="${data.metadata_hash}" \\\n`;
            if (data.blockchain_hash) command += `-metadata blockchain_hash="${data.blockchain_hash}" \\\n`;
            if (data.smart_contract_address) command += `-metadata smart_contract_address="${data.smart_contract_address}" \\\n`;
            if (data.ipfs_hash) command += `-metadata ipfs_hash="${data.ipfs_hash}" \\\n`;
            if (data.web3_wallet_address) command += `-metadata web3_wallet_address="${data.web3_wallet_address}" \\\n`;
            if (data.nft_token_id) command += `-metadata nft_token_id="${data.nft_token_id}" \\\n`;
            if (data.w3c_verification) command += `-metadata w3c_verification="${data.w3c_verification}" \\\n`;
            if (data.decentralized_id) command += `-metadata decentralized_id="${data.decentralized_id}" \\\n`;
            
            // System
            if (data.da1_version) command += `-metadata da1_version="${data.da1_version}" \\\n`;
            if (data.da1_attribution_level) command += `-metadata da1_attribution_level="${data.da1_attribution_level}" \\\n`;
            if (data.creation_tool) command += `-metadata creation_tool="${data.creation_tool}" \\\n`;
            if (data.validation_status) command += `-metadata validation_status="${data.validation_status}" \\\n`;
            if (data.last_modified) command += `-metadata last_modified="${data.last_modified}" \\\n`;
            
            // Final options
            command += `-id3v2_version 3 \\\n`;
            command += `-write_id3v1 1 \\\n`;
            command += outputFile;
            
            return command;
        }

        // Initialize auto-save and form loading after everything is loaded\n        window.addEventListener('load', () => {\n            loadFormData();\n            setupAutoSave();\n            restoreLastCommand();\n        });\n\n        function restoreLastCommand() {\n            const lastCommand = localStorage.getItem('da1_last_generated_command');\n            if (lastCommand) {\n                const sidebarOutput = document.getElementById('commandOutput');\n                const mainOutput = document.getElementById('mainCommandOutput');\n                const placeholder = document.getElementById('commandPlaceholder');\n                \n                sidebarOutput.textContent = lastCommand;\n                sidebarOutput.style.display = 'block';\n                \n                mainOutput.textContent = lastCommand;\n                mainOutput.style.display = 'block';\n                placeholder.style.display = 'none';\n            }\n        }\n\n        // Show status message
        function showStatus(message, type) {
            const status = document.getElementById('fileStatus');
            status.textContent = message;
            status.className = `status-message status-${type}`;
            status.style.display = 'block';
            
            setTimeout(() => {
                status.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>